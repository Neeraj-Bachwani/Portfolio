.main-bg {
  background-color: var(--purpie);
  height: 100vh;
  width: 100vw;
  position: relative;
  overflow: hidden;
}

/* Background video positioned behind content, starting below nav area */
.bg-video-wrap {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  z-index: 0;
  overflow: hidden;
  pointer-events: none;
}

.bg-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: blur(8px) saturate(1.05) brightness(0.85);
  transform: scale(1.06); /* avoid blur edge crop */
}

.bg-video-overlay {
  position: absolute;
  inset: 0;
  /* light uniform tint so video shows under nav too, no band at bottom */
  background: rgba(182,169,199,0.18);
  mix-blend-mode: normal;
}

/* Tech ticker at bottom of video */
.tech-ticker {
  position: absolute;
  right: 0;
  bottom: 35px;
  overflow: hidden;
  z-index: 2;
  pointer-events: none;
}
.tech-track {
  display: inline-flex;
  gap: clamp(24px, 4vw, 60px);
  white-space: nowrap;
  min-width: max-content;
  color: #fff;
  font-family: 'starmap', system-ui, sans-serif;
  font-size: clamp(13px, 1.4vw, 18px);
  opacity: 0.85;
}
.tech-item { letter-spacing: 0.12em; }
/* keyframes not used; JS drives transform for perfect loop */

.noise-overlay {
  position: absolute;
  inset: 0;
  background-image: url('/images/noise.png');
  background-size: 300px 300px;
  background-repeat: repeat;
  opacity: 0.08;
  pointer-events: none;
  animation: noiseShift 8s linear infinite;
}

@keyframes noiseShift {
  0% { background-position: 0 0; }
  100% { background-position: 300px 300px; }
}

.top-right-nav {
  position: absolute;
  top: 24px;
  right: clamp(40px, 6vw, 120px);
  display: flex;
  gap: clamp(22px, 3vw, 42px);
  z-index: 10;
}

.nav-link {
  position: relative;
  color: #ffffff;
  letter-spacing: 0.06em;
  font-weight: 600;
  text-transform: uppercase;
  font-size: clamp(14px, 1.25vw, 18px);
  background: transparent;
  border: 0;
  padding: 0;
  cursor: pointer;
}

.nav-link::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -4px;
  height: 2px;
  width: 100%;
  background: #ffffff;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 200ms ease;
}

.nav-link:hover::after { transform: scaleX(1); }

.hero-name {
  position: relative;
  color: #ffffff;
  font-family: NK57, system-ui, sans-serif;
  font-weight: 700;
  line-height: 0.95;
  letter-spacing: -0.01em;
  font-size: clamp(56px, 12vw, 160px);
  white-space: pre-line;
}

.hero-wrap {
  position: absolute;
  left: clamp(16px, 6vw, 80px);
  top: clamp(64px, 16vh, 160px);
  z-index: 5;
}

.subtext {
  margin-top: clamp(18px, 3.2vh, 28px);
  color: #ffffff;
}

.subtext .jp {
  font-size: clamp(16px, 1.6vw, 22px);
  opacity: 0.92;
  margin-bottom: clamp(12px, 2vh, 20px);
  letter-spacing: 0.25em; /* extra spacing between characters */
}

.decor-line {
  font-family: NK57, system-ui, sans-serif;
  opacity: 0.6;
  letter-spacing: 0.08em;
  letter-spacing: 0.2em; /* add space between slashes */
  margin: 0 0 clamp(12px, 2vh, 20px) 0;
}

.tagline-full {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 6px;
  background: #a396c0;
  color: #fff;
  font-weight: 700;
  letter-spacing: 0.04em;
  font-size: clamp(14px, 1.25vw, 18px);
}

/* Bottom sticky bar */
.bottom-bar {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 12;
  pointer-events: none; /* decorative */
}

.bottom-line {
  position: absolute;
  left: clamp(14px, 3vw, 40px);
  right: clamp(14px, 3vw, 40px);
  bottom: 4px;
  height: 1px;
  background: #ffffff;
  opacity: 1;
}

.bottom-content {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 14px; /* sit just above the line */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 clamp(14px, 3vw, 40px);
  color: #ffffff;
  font-size: clamp(10px, 1vw, 14px);
  letter-spacing: 0.08em;
  font-family: NK57, system-ui, sans-serif;
}

.bottom-left {
  opacity: 0.9;
  display: inline-flex;
  align-items: baseline;
  gap: 2px;
  white-space: nowrap;
  line-height: 1;
}

.version-left,
.version-right {
  display: inline-block;
  line-height: 1;
}

.version-left { opacity: 0.9; font-family: 'starmap', system-ui, sans-serif;}
.version-right { opacity: 0.9; font-family: 'starmap', system-ui, sans-serif; color: #470077;}

.bottom-center {
  display: flex;
  align-items: center;
  gap: 6px;
  font-family: 'starmap', system-ui, sans-serif;
}
.bottom-center .name-left { color: #ffffff; }
.bottom-center .name-right { color: #470077; }
.bottom-right { opacity: 0.9; font-family: 'starmap', system-ui, sans-serif;}

/* Switch bottom bar colors in white sections */
.theme-light .bottom-line { background: var(--purpie); }
.theme-light .bottom-content { color: var(--purpie); }
.theme-light .bottom-center .name-left { color: var(--purpie); }

/* Floating wobble section */
.wobble-section {
  background: #9f92b9; 
  padding: clamp(28px, 8vh, 80px) clamp(20px, 6vw, 80px);
  position: relative;
  overflow: hidden;
  border-bottom: 1px solid #ffffff;
}

/* Generic section enter animation */
.section-animate { opacity: 0; transform: translateY(24px); transition: opacity 600ms ease, transform 600ms ease; }
.section-animate.section-active { opacity: 1; transform: translateY(0); }

.wobble-wrap {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  gap: clamp(8px, 1.2vw, 20px) clamp(14px, 2vw, 28px);
  user-select: none;
}

.wobble-token {
  display: inline-block;
  will-change: transform;
  transition: transform 80ms linear;
  font-family: NK57, system-ui, sans-serif;
  font-weight: 700;
  letter-spacing: 0.04em;
  line-height: 1.1;
  font-size: clamp(20px, 3.6vw, 44px);
}

.wobble-token.fixed {
  opacity: 0.95;
}

.wsp { width: clamp(6px, 1.4vw, 18px); display: inline-block; }

.wobble-section::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url('/images/noise.png');
  background-size: 280px 280px;
  background-repeat: repeat;
  opacity: 0.12;
  pointer-events: none;
}

/* New row/word layout for FloatingWords */
.wobble-rows {
  display: flex;
  flex-direction: column;
  gap: clamp(18px, 3.2vw, 36px);
  user-select: none;
  width: 100%;
}
.w-row { display: flex; justify-content: space-between; align-items: baseline; width: 100%; gap: clamp(12px, 2vw, 24px); }
.wobble-word {
  display: inline-block;
  will-change: transform;
  transition: transform 80ms linear;
  font-family: NK57, system-ui, sans-serif;
  font-weight: 700;
  letter-spacing: 0.045em;
  line-height: 1.05;
  white-space: nowrap;
  text-transform: uppercase;
}
.wobble-word.fixed { font-size: clamp(28px, 6vw, 84px); opacity: 0.95; }
.wobble-word.dynamic { font-size: clamp(32px, 7vw, 92px); }

@media (max-width: 720px) {
  .wobble-word.fixed { font-size: clamp(22px, 8vw, 48px); }
  .wobble-word.dynamic { font-size: clamp(24px, 9vw, 56px); }
}
.section-divider { display: none; }

/* Dedicated white section for the scratch WORKS area */
.works-section {
  position: relative;
  background: #ffffff;
  min-height: 100vh;
  width: 100vw;
  overflow: hidden;
  padding: clamp(16px, 4vh, 32px) 0;
}

.works-info {
  max-width: 720px;
  margin-left: auto;
  /* move ~20px left by increasing right margin */
  margin-right: clamp(28px, 5vw, 100px);
  margin-top: -23vh; /* pull much closer under WORKS */
  color: #000;
  font-family: Roobert, system-ui, sans-serif;
  line-height: 1.3;
  opacity: 0.96;
  font-size: clamp(16px, 1.8vw, 24px);
  font-weight: 700;
  text-transform: uppercase;
  transform: translateX(90px);
  opacity: 0;
  transition: transform 1400ms cubic-bezier(0.22, 0.61, 0.36, 1), opacity 1400ms ease;
  transition-delay: 160ms;
  will-change: transform, opacity;
}

/* Works gallery */
.wg-rows { display: flex; flex-direction: column; gap: clamp(24px, 6vh, 56px); padding: clamp(24px, 5vh, 56px) clamp(24px, 6vw, 96px) clamp(56px, 9vh, 96px); }
.wg-row { display: grid; grid-template-columns: repeat(12, 1fr); gap: clamp(18px, 2.8vw, 36px); opacity: 0; transform: translateX(60px); transition: opacity 700ms ease, transform 700ms ease; overflow: visible; }
.wg-row.from-left { transform: translateX(-60px); }
.wg-row.show { opacity: 1; transform: translateX(0); }
.wg-side.left  { grid-column: 1 / span 6; display: flex; align-items: stretch; justify-content: flex-end; padding: 0 clamp(10px, 2vw, 20px); position: relative; overflow: visible; min-height: clamp(240px, 38vh, 460px); }
.wg-side.right { grid-column: 7 / span 6; display: flex; align-items: stretch; justify-content: flex-start; padding: 0 clamp(10px, 2vw, 20px); position: relative; overflow: visible; min-height: clamp(240px, 38vh, 460px); }
@media (max-width: 900px) { .wg-side.left, .wg-side.right { grid-column: 1 / span 12; } }

/* Opposite-side stack that appears on hover */
.wg-pop { display: flex; flex-direction: column; gap: 12px; opacity: 0; transform: translateX(16px); transition: transform 260ms ease, opacity 260ms ease; align-self: flex-end; height: 100%; justify-content: flex-end; }
.wg-pop.attach-left  { align-items: flex-end; }
.wg-pop.attach-right { align-items: flex-start; transform: translateX(-16px); }
.wg-pop.open { opacity: 1; transform: translateX(0); }

.wg-card {
  position: relative;
  border-radius: 26px;
  overflow: hidden;
  background: #f4f2f7;
  box-shadow: 0 12px 32px rgba(0,0,0,0.12);
  z-index: 5;
}
.wg-cover { width: 100%; height: clamp(240px, 38vh, 460px); object-fit: cover; display: block; border-radius: 26px 26px 0 0; }
.wg-meta { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; }
.wg-meta.wg-meta-on { position: absolute; left: 0; right: 0; bottom: 0; padding: 14px 18px; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(10,10,12,0.55) 100%); color: #fff; }
.wg-title { font-family: NK57, system-ui, sans-serif; font-weight: 900; letter-spacing: .02em; color: #fff; text-shadow: 0 2px 8px rgba(0,0,0,0.35); }
.wg-tag { font-family: Roobert, system-ui, sans-serif; font-size: 12px; letter-spacing: .12em; opacity: .9; color: #fff; }
.wg-tag-strong { background: rgba(20,20,30,0.6); border-radius: 999px; padding: 6px 10px; }

/* overlay removed in row layout; previews occupy the opposite side area */

.wg-preview {
  background: rgba(20,20,30,0.18);
  backdrop-filter: blur(8px) saturate(1.05);
  border-radius: 18px;
  box-shadow: 0 16px 44px rgba(0,0,0,0.22);
  padding: 12px;
  transform-origin: center;
  animation: wgPop .22s ease-out both;
  margin-inline: clamp(6px, 1.2vw, 16px);
}
.wg-preview { max-width: 100%; max-height: 100%; overflow: hidden; }
.wg-preview img { display: block; width: 100%; height: 100%; object-fit: cover; border-radius: 12px; background: transparent; }
.wg-preview.desktop { /* dimensions now come from inline height + aspect-ratio */ }
.wg-preview.mobile { border-radius: 26px; padding: 8px; background: rgba(255,255,255,0.5); border: 1px solid rgba(26,27,29,0.12); }

/* Info tray */
.wg-tray { 
  background: var(--purpie);
  color: #1a1b1d; 
  border-radius: 22px; 
  display: flex; 
  gap: 16px; 
  align-items: stretch; 
  padding: clamp(16px, 2vw, 22px);
  box-shadow: 0 22px 54px rgba(0,0,0,0.25);
  max-width: 100%; 
  overflow: visible; 
  border: 1px solid rgba(26,27,29,0.12);
  min-height: clamp(160px, 26vh, 320px);
  min-width: clamp(260px, 42vw, 560px);
  box-sizing: border-box;
  position: absolute; bottom: 0;
  z-index: 80;
  opacity: 0; transform: translateY(12px);
  transition: transform 220ms ease, opacity 180ms ease;
  pointer-events: none;
}
.wg-pop.open .wg-tray { opacity: 1; transform: translateY(0); pointer-events: auto; }
.wg-tray.attach-left  { right: -136px; border-top-right-radius: 0; border-bottom-right-radius: 0; padding-right: clamp(40px, 5vw, 64px); }
.wg-tray.attach-right { left: -136px;  border-top-left-radius: 0;  border-bottom-left-radius: 0;  padding-left: clamp(40px, 5vw, 64px); }
@media (max-width: 1200px) {
  .wg-tray.attach-left  { margin-right: -96px; }
  .wg-tray.attach-right { margin-left: -96px; }
}
@media (max-width: 900px) {
  .wg-tray.attach-left  { margin-right: -68px; }
  .wg-tray.attach-right { margin-left: -68px; }
}

/* Remove forced cursor hiding so system cursor shows in WORKS */
.wg-tray .wg-preview { box-shadow: 0 10px 28px rgba(0,0,0,0.3); backdrop-filter: blur(10px); }
.wg-tray-left { flex: 0 0 auto; }
.wg-tray-right { flex: 1 1 auto; min-width: 200px; display: flex; flex-direction: column; gap: 8px; }
.wg-tray-title { font-family: NK57, system-ui, sans-serif; font-weight: 900; letter-spacing: .02em; margin-bottom: 6px; color: #1a1b1d; text-shadow: 0 1px 4px rgba(255,255,255,0.25); }
.wg-tray-desc { font-family: Roobert, system-ui, sans-serif; font-size: clamp(12px, 1.1vw, 15px); line-height: 1.5; opacity: 0.92; }
.wg-tray-stack { font-family: Roobert, system-ui, sans-serif; font-size: 12px; letter-spacing: .12em; opacity: 0.95; display: flex; flex-direction: column; gap: 6px; }
.wg-tray-stacklabel { font-size: 11px; letter-spacing: .18em; opacity: .85; }
.wg-tray-chips { display: flex; flex-wrap: wrap; gap: 6px; }
.wg-chip { background: rgba(26,27,29,0.08); border: 1px solid rgba(26,27,29,0.18); padding: 6px 10px; border-radius: 999px; font-size: 12px; color: #1a1b1d; }
.wg-tray-stacklabel { font-size: 11px; letter-spacing: .18em; opacity: .85; }
.wg-tray-chips { display: flex; flex-wrap: wrap; gap: 6px; }
.wg-chip { background: rgba(255,255,255,0.14); border: 1px solid rgba(255,255,255,0.24); padding: 6px 10px; border-radius: 999px; font-size: 12px; }
@keyframes wgSlide { from { transform: translateX(12px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
.wg-preview-chrome { display: flex; gap: 6px; margin-bottom: 2px; }
.wg-preview-chrome .dot { width: 8px; height: 8px; border-radius: 50%; background: #ffffff80; }

@keyframes wgPop { from { opacity: 0; transform: scale(.92); } to { opacity: 1; transform: scale(1); } }

/* Drawer under cover (centered) */
.wg-drawer { position: absolute; left: 50%; bottom: -12px; transform: translate(-50%, 110%); width: 92%; max-width: 720px; display: grid; grid-template-columns: auto 1fr; gap: 12px; padding: 12px; border-radius: 18px; background: rgba(255,255,255,0.72); border: 1px solid rgba(26,27,29,0.16); box-shadow: 0 18px 48px rgba(0,0,0,0.22); backdrop-filter: blur(12px) saturate(1.1); opacity: 0; pointer-events: none; transition: transform 260ms ease, opacity 260ms ease; }
.wg-drawer.open { transform: translate(-50%, 0); opacity: 1; pointer-events: auto; }
.wg-drawer .wg-window { box-shadow: 0 12px 32px rgba(0,0,0,0.2); }
.wg-drawer .wg-dock { box-shadow: none; background: transparent; border: 0; padding: 0; }
.wg-dock-title { font-family: NK57, system-ui, sans-serif; font-weight: 900; margin-bottom: 6px; }
.wg-dock-desc { font-family: Roobert, system-ui, sans-serif; font-size: 13px; line-height: 1.5; opacity: .92; margin-bottom: 8px; }
.wg-dock-stack { display: flex; flex-direction: column; gap: 6px; }
.wg-dock-stacklabel { font-size: 11px; letter-spacing: .18em; opacity: .7; }
.wg-dock-chips { display: flex; flex-wrap: wrap; gap: 6px; }


/* Slide-in trigger when the WORKS section enters view */
.theme-light .works-info {
  transform: translateX(0);
  opacity: 1;
}

/* Cursor-following preview frame */
.wg-follow {
  position: fixed;
  z-index: 60;
  pointer-events: none;
  background: rgba(255,255,255,0.35);
  backdrop-filter: blur(10px) saturate(1.05);
  border: 1px solid rgba(26,27,29,0.12);
  border-radius: 18px;
  box-shadow: 0 16px 44px rgba(0,0,0,0.22);
  padding: 12px;
}
.wg-follow img {
  display: block;
  width: auto;
  height: auto;
  max-width: clamp(220px, 28vw, 420px);
  max-height: clamp(160px, 24vh, 280px);
  object-fit: contain;
  border-radius: 12px;
}
.wg-follow .wg-preview-chrome { display: flex; gap: 6px; margin-bottom: 10px; }
.wg-follow .wg-preview-chrome .dot { width: 8px; height: 8px; border-radius: 50%; background: #ffffff; }

/* Under construction bar */
.wg-ucbar {
  margin: clamp(20px, 6vh, 48px) auto 0 auto;
  width: calc(100% - clamp(48px, 12vw, 160px));
  background: #000;
  color: var(--orange-red);
  border-radius: 10px;
  padding: 14px 18px;
  font-family: NK57, system-ui, sans-serif;
  font-weight: 800;
  letter-spacing: 0.12em;
  text-align: center;
  box-shadow: 0 14px 40px rgba(0,0,0,0.25);
}
